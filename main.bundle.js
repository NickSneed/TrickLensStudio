/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{"use strict";var e,n={14:(e,n,r)=>{e.exports=r.p+"assets/fonts/dogicapixel.840048d54c9574e0054b.woff2"},108:(e,n,r)=>{r.d(n,{Ay:()=>f,Ji:()=>c,KF:()=>d,Qd:()=>s,hs:()=>u,jW:()=>l,ne:()=>b});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".Photo-module__photo--sgkch {\n    padding: 0 0 20px;\n    text-align: center;\n}\n\n.Photo-module__canvas--Owi0R {\n    display: block;\n    margin: 0;\n}\n\n.Photo-module__canvasContainer--XlRf9 {\n    background: none;\n    border-style: solid;\n    border-width: 2px;\n    border-color: var(--c-canvasoutlinedark) var(--c-canvasoutlinelight) var(--c-canvasoutlinelight)\n        var(--c-canvasoutlinedark);\n    display: inline-block;\n    margin: 0 auto 10px;\n    position: relative;\n}\n\n.Photo-module__scale--h9s3N {\n    height: 100%;\n}\n\n.Photo-module__scale--h9s3N .Photo-module__canvas--Owi0R {\n    object-fit: contain;\n    padding: 0 !important;\n    height: 100% !important;\n    width: 100% !important;\n}\n\n.Photo-module__photo--sgkch .button {\n    margin: 0 auto;\n    max-width: 200px;\n    width: 100%;\n}\n\n.Photo-module__deleted--Hl4Th {\n    background: var(--c-red);\n    border: 2px solid #fff;\n    color: #fff;\n    padding: 0.2em;\n    position: absolute;\n    right: 0.4em;\n    top: 0.3em;\n}\n\n.Photo-module__controls--wXXsE .button,\n.Photo-module__controls--wXXsE label {\n    display: inline-block;\n}\n\n.Photo-module__controls--wXXsE label {\n    margin-left: 1.5em;\n}\n\n.Photo-module__controls--wXXsE label span {\n    margin: 0;\n}\n\n.scale1 .Photo-module__photo--sgkch .button span {\n    display: none;\n}\n\n.scale1 .Photo-module__photo--sgkch .button {\n    max-width: 7em;\n}\n\n.scale1 .Photo-module__controls--wXXsE label {\n    margin-left: 1em;\n}\n",""]);var l="Photo-module__photo--sgkch",c="Photo-module__canvas--Owi0R",s="Photo-module__canvasContainer--XlRf9",u="Photo-module__scale--h9s3N",d="Photo-module__deleted--Hl4Th",b="Photo-module__controls--wXXsE";const f=i},171:(e,n,r)=>{r.d(n,{A:()=>g});var t=r(601),o=r.n(t),a=r(314),i=r.n(a),l=r(417),c=r.n(l),s=new URL(r(14),r.b),u=new URL(r(399),r.b),d=i()(o()),b=c()(s),f=c()(u);d.push([e.id,`:root {\n    /* main ui */\n    --c-copy: #171717;\n    --c-messagecopy: #4b4b4b;\n    --c-background: #cfcfcf;\n    --c-button: #aaa;\n    --c-canvasoutlinelight: color-mix(in srgb, var(--c-background) 60%, #fff);\n    --c-canvasoutlinedark: color-mix(in srgb, var(--c-background) 80%, #000);\n\n    /* modal */\n    --c-modal: #aaa;\n    --c-modalcopy: var(--c-copy);\n\n    /* toobar colors */\n    --c-green: #169e78;\n    --c-yellow: #f4c901;\n    --c-red: #c20000;\n    --c-blue: #2c51ac;\n\n    /* fonts */\n    --f-regular: 'DogicaPixel', sans-serif;\n    --f-bold: 'DogicaPixelBold', sans-serif;\n}\n\n@media (prefers-color-scheme: dark) {\n    :root {\n        --c-background: #1f1f1f;\n        --c-canvasoutlinelight: color-mix(in srgb, var(--c-background) 90%, #fff);\n        --c-canvasoutlinedark: color-mix(in srgb, var(--c-background) 50%, #000);\n    }\n}\n\n@font-face {\n    font-family: 'DogicaPixel';\n    src: url(${b}) format('woff2');\n    font-weight: 400;\n    font-style: normal;\n    font-display: swap;\n}\n\n@font-face {\n    font-family: 'DogicaPixelBold';\n    src: url(${f}) format('woff2');\n    font-weight: 800;\n    font-style: bold;\n    font-display: swap;\n}\n\nbody {\n    background-color: var(--c-background);\n    color: var(--c-copy);\n    font-family: sans-serif;\n    font-size: 16px;\n    font-weight: normal;\n    padding: 20px 10px;\n    font-family: var(--f-regular);\n    font-weight: 400;\n    font-style: normal;\n    letter-spacing: 0;\n}\n\ndiv {\n    box-sizing: border-box;\n}\n\nh1,\nh2,\nh3 {\n    font-family: var(--f-bold);\n}\n\nselect {\n    border: 2px solid var(--c-copy);\n    font-size: inherit;\n    font-family: var(--f-regular);\n    padding: 0.5em;\n    width: 100%;\n}\n\nbutton {\n    cursor: pointer;\n    font-family: 'DogicaPixel';\n    padding: 0;\n}\n\n.button {\n    background-color: var(--c-button);\n    border: none;\n    border-top: 4px solid color-mix(in srgb, var(--c-button) 10%, #000);\n    border-bottom: 4px solid color-mix(in srgb, var(--c-button) 10%, #000);\n    box-sizing: border-box;\n    box-shadow: inset 0 -4px 0 0 color-mix(in srgb, var(--c-button) 50%, #000);\n    color: var(--c-copy);\n    display: block;\n    font-size: inherit;\n    font-family: var(--f-regular);\n    height: 3.5em;\n    padding: 0.8em 0.8em 1.5em 0.8em;\n    position: relative;\n    width: 100%;\n}\n\n.button:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -4px;\n    width: 100%;\n    height: 100%;\n    border-right: 4px solid color-mix(in srgb, var(--c-button) 10%, #000);\n    border-left: 4px solid color-mix(in srgb, var(--c-button) 10%, #000);\n}\n\n.button:before {\n    border: 4px solid color-mix(in srgb, var(--c-button) 30%, #fff);\n    border-top: none;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: calc(100% - 8px);\n    height: calc(100% - 8px);\n}\n\n@media (hover: hover) {\n    .button:hover {\n        background-color: color-mix(in srgb, var(--c-button) 60%, #fff);\n    }\n}\n\n.button:active {\n    transform: translatey(4px);\n}\n\n.closeButton,\n.closeButton:hover {\n    background: var(--c-modalcopy);\n    display: block;\n    border: none;\n    color: var(--c-modal);\n    font-family: var(--f-regular);\n    font-size: 1.4em;\n    height: 1.3em;\n    line-height: 1;\n    padding: 0;\n    width: 1.3em;\n}\n\n.colorgreen {\n    background-color: var(--c-green);\n}\n\n.coloryellow {\n    background-color: var(--c-yellow);\n}\n\n.colorred {\n    background-color: var(--c-red);\n    color: #fff;\n}\n\n.colorblue {\n    background-color: var(--c-blue);\n    color: #fff;\n}\n\n.fontBold {\n    font-family: var(--f-bold);\n}\n\nlabel {\n    cursor: pointer;\n    display: block;\n}\n\n.photoGrid {\n    padding: 0 0 240px;\n    display: grid;\n    gap: 10px;\n}\n\n.mainMessage {\n    color: var(--c-messagecopy);\n    font-family: var(--f-bold);\n    height: 70%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    left: 0;\n    position: fixed;\n    top: 0;\n    width: 100%;\n    z-index: 1;\n}\n@media (min-width: 1280px) {\n    body {\n        padding: 40px 20px;\n    }\n\n    .mainMessage {\n        height: 100%;\n    }\n\n    .photoGrid {\n        padding: 0 0 40px;\n        gap: 20px;\n    }\n}\n\n.pixel-checkbox {\n    display: block;\n    cursor: pointer;\n}\n\n.pixel-checkbox input {\n    position: absolute;\n    opacity: 0;\n    cursor: pointer;\n    height: 0;\n    width: 0;\n}\n\n.pixel-checkbox span {\n    background-color: #fff;\n    border: 2px solid var(--c-copy);\n    display: inline-block;\n    height: 1.5em;\n    margin-right: 0.5em;\n    position: relative;\n    vertical-align: middle;\n    width: 1.5em;\n}\n\n.pixel-checkbox input:checked ~ span:after {\n    content: '';\n    position: absolute;\n    left: 7px;\n    top: 2px;\n    width: 6px;\n    height: 12px;\n    border: solid var(--c-copy);\n    border-width: 0 4px 4px 0;\n    transform: rotate(45deg);\n}\n\n.pixel-checkbox input:disabled ~ span {\n    cursor: not-allowed;\n    background-color: var(--c-button);\n    border-color: var(--c-messagecopy);\n}\n\n.modal-open {\n    overflow: hidden;\n}\n`,""]);const g=d},197:(e,n,r)=>{r.d(n,{Ay:()=>f,EX:()=>s,V1:()=>b,VN:()=>d,a2:()=>u,rV:()=>l,yl:()=>c});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".Modal-module__modalwrapper--yCooO {\n    color: var(--c-modalcopy);\n    display: none;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    left: 0;\n    padding: 1em;\n    position: fixed;\n    top: 0;\n    width: 100%;\n    z-index: 3;\n}\n\n.Modal-module__modal--Js7Xp {\n    background: var(--c-modal);\n    box-shadow: inset 0 0 0 8px var(--c-modalcopy);\n    border: 1.5em solid var(--c-modal);\n    position: relative;\n    margin: 0 auto;\n    padding: 3em 2em;\n    width: 100%;\n}\n\n.Modal-module__modal--Js7Xp h2 {\n    background: var(--c-modal);\n    display: inline-block;\n    font-size: 16px;\n    left: 1em;\n    padding: 0 0.5em;\n    position: absolute;\n    top: -1em;\n}\n\n.Modal-module__small--Foo3u .Modal-module__modal--Js7Xp {\n    max-width: 500px;\n}\n\n.Modal-module__full--F1aoh .Modal-module__modal--Js7Xp {\n    height: 100%;\n}\n\n.Modal-module__modal--Js7Xp .Modal-module__close--WjoyV {\n    box-shadow: 0 0 0 0.4em var(--c-modal);\n    position: absolute;\n    right: -0.5em;\n    top: -0.5em;\n    z-index: 4;\n}\n\n.Modal-module__modalscroll--pcjs2 {\n    overflow: auto;\n    max-height: 100%;\n}\n",""]);var l="Modal-module__modalwrapper--yCooO",c="Modal-module__modal--Js7Xp",s="Modal-module__small--Foo3u",u="Modal-module__full--F1aoh",d="Modal-module__close--WjoyV",b="Modal-module__modalscroll--pcjs2";const f=i},294:(e,n,r)=>{r.d(n,{Ay:()=>b,O6:()=>c,P2:()=>l,Pf:()=>d,fp:()=>s,gB:()=>u});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".PaletteSelector-module__dropdownContainer--Xl2bC {\n    display: grid;\n    grid-template-columns: auto auto auto auto auto auto auto auto;\n}\n\n.PaletteSelector-module__swatchContainer--O4Dl3 {\n    border: 2px solid var(--c-modalcopy);\n    display: flex;\n    height: 20px;\n    margin: 0 auto 4px auto;\n    overflow: hidden;\n    vertical-align: middle;\n    width: 80px;\n}\n\n.PaletteSelector-module__swatchContainer--O4Dl3:hover,\n.PaletteSelector-module__swatchContainer--O4Dl3:active {\n    border-color: color-mix(in srgb, var(--c-modalcopy) 40%, #fff);\n}\n\n.PaletteSelector-module__swatchColorBlock--_G8v8 {\n    width: 25%;\n    height: 100%;\n}\n\n.PaletteSelector-module__radioInput--zcsqZ {\n    display: none;\n}\n\n.PaletteSelector-module__label--eged0 {\n    display: block;\n    margin: 4px;\n    cursor: pointer;\n    text-align: center;\n}\n",""]);var l="PaletteSelector-module__dropdownContainer--Xl2bC",c="PaletteSelector-module__swatchContainer--O4Dl3",s="PaletteSelector-module__swatchColorBlock--_G8v8",u="PaletteSelector-module__radioInput--zcsqZ",d="PaletteSelector-module__label--eged0";const b=i},352:(e,n,r)=>{r.d(n,{Ay:()=>b,KE:()=>l,XJ:()=>d,jI:()=>c,oX:()=>s,wm:()=>u});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".ToolBar-module__toolbar--xnPbT {\n    bottom: 0;\n    box-sizing: border-box;\n    left: 0;\n    padding: 1em;\n    position: fixed;\n    width: 100%;\n    z-index: 2;\n}\n\n.ToolBar-module__toolbar--xnPbT:before,\n.ToolBar-module__toolbar--xnPbT:after {\n    opacity: 0.5;\n    content: '';\n    display: block;\n    height: 4px;\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    width: 100%;\n}\n\n.ToolBar-module__toolbar--xnPbT:before {\n    background: #fff;\n    top: 0;\n}\n\n.ToolBar-module__toolbar--xnPbT:after {\n    background: #000;\n    bottom: 0;\n}\n\n.ToolBar-module__toolbaritem--d0_Ol {\n    display: block;\n    margin: 0 0 0.5em;\n    width: 100%;\n}\n\n.ToolBar-module__settingsbutton--vzPEZ {\n    float: right;\n    margin: 0 10px;\n    width: auto;\n}\n\n.ToolBar-module__settingsbutton--vzPEZ button,\n.ToolBar-module__settingsbutton--vzPEZ button:hover {\n    background: none;\n    border: none;\n    color: inherit;\n    display: inline-block;\n    font-size: 40px;\n    height: 1em;\n    line-height: 1.1;\n    padding: 0;\n}\n\n.ToolBar-module__logo--QCJx0 {\n    float: left;\n    line-height: 2.5em;\n}\n\n.ToolBar-module__imageCount--vhhUG {\n    background: #333;\n    border: 2px solid #fff;\n    border-bottom: none;\n    border-right: none;\n    height: 2em;\n    right: 0;\n    color: #fff;\n    padding: 0.5em;\n    position: absolute;\n    top: -2em;\n}\n\n@media (min-width: 1280px) {\n    .ToolBar-module__toolbar--xnPbT .ToolBar-module__toolbaritem--d0_Ol {\n        display: block;\n        float: left;\n        margin: 0 1em 0 0;\n        max-width: 340px;\n        width: auto;\n    }\n\n    .ToolBar-module__logo--QCJx0 {\n        font-size: 24px;\n        float: right;\n        margin-right: 1em;\n    }\n\n    .ToolBar-module__settingsbutton--vzPEZ {\n        margin-top: 0.5em;\n    }\n}\n",""]);var l="ToolBar-module__toolbar--xnPbT",c="ToolBar-module__toolbaritem--d0_Ol",s="ToolBar-module__settingsbutton--vzPEZ",u="ToolBar-module__logo--QCJx0",d="ToolBar-module__imageCount--vhhUG";const b=i},399:(e,n,r)=>{e.exports=r.p+"assets/fonts/dogicapixelbold.31468c516cb0d254273a.woff2"},656:(e,n,r)=>{r.d(n,{A:()=>c,W:()=>l});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".SettingsMenu-module__settings--hiJiP label {\n    margin: 0 0 1em;\n}\n\n.SettingsMenu-module__settings--hiJiP select {\n    margin: 0.5em 0 0;\n}\n",""]);var l="SettingsMenu-module__settings--hiJiP";const c=i},713:(e,n,r)=>{r.d(n,{Ay:()=>d,Lt:()=>u,jW:()=>c,ne:()=>s,sH:()=>l});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".EditModal-module__editWrapper--Fe9C0 {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n    margin: 0 auto;\n    max-width: 56em;\n}\n\n.EditModal-module__photo--aGGqS {\n    height: auto;\n    flex-grow: 1;\n    min-height: 0;\n}\n\n.EditModal-module__controls--zFLUl {\n    display: flex;\n    flex-direction: column;\n}\n\n.EditModal-module__select--iH2B_ {\n    margin: 0.5em 0 1em 0;\n    display: block;\n    width: 100%;\n}\n\n@media (min-width: 1280px) {\n    .EditModal-module__editWrapper--Fe9C0 {\n        flex-direction: row;\n    }\n\n    .EditModal-module__photo--aGGqS {\n        max-width: 40em;\n    }\n\n    .EditModal-module__controls--zFLUl {\n        flex-basis: 200px;\n        flex-shrink: 0;\n        margin-left: 2em;\n        padding-top: 0;\n    }\n}\n",""]);var l="EditModal-module__editWrapper--Fe9C0",c="EditModal-module__photo--aGGqS",s="EditModal-module__controls--zFLUl",u="EditModal-module__select--iH2B_";const d=i},963:(e,n,r)=>{r.d(n,{Ay:()=>s,Q5:()=>l,TF:()=>c});var t=r(601),o=r.n(t),a=r(314),i=r.n(a)()(o());i.push([e.id,".FileLoader-module__fileLoader--bKT0o {\n    position: relative;\n}\n\n.FileLoader-module__fileLoader--bKT0o input {\n    display: none;\n}\n\n.FileLoader-module__fileLoader--bKT0o button:not(.FileLoader-module__remove--eBBq8) {\n    padding-right: 50px !important;\n    text-align: left;\n}\n\n.FileLoader-module__fileLoader--bKT0o .FileLoader-module__remove--eBBq8 {\n    display: none;\n    position: absolute;\n    right: 0.4em;\n    top: 0.4em;\n}\n",""]);var l="FileLoader-module__fileLoader--bKT0o",c="FileLoader-module__remove--eBBq8";const s=i},971:(e,n,r)=>{var t=r(540),o=r(338),a=r(322),i=r(848);const l=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a.sv,{})})};var c=r(556),s=r(72),u=r.n(s),d=r(825),b=r.n(d),f=r(659),g=r.n(f),m=r(56),p=r.n(m),h=r(159),v=r.n(h),y=r(113),x=r.n(y),w=r(108),j={};j.styleTagTransform=x(),j.setAttributes=p(),j.insert=g().bind(null,"head"),j.domAPI=b(),j.insertStyleElement=v(),u()(w.Ay,j),w.Ay&&w.Ay.locals&&w.Ay.locals;const _={sgb1a:[{r:255,g:232,b:207},{r:223,g:144,b:79},{r:175,g:40,b:32},{r:48,g:24,b:80}],sgb1b:[{r:223,g:216,b:192},{r:207,g:176,b:112},{r:176,g:80,b:16},{r:0,g:0,b:0}],sgb1c:[{r:255,g:192,b:255},{r:239,g:152,b:80},{r:159,g:56,b:96},{r:63,g:56,b:159}],sgb1d:[{r:255,g:248,b:175},{r:192,g:128,b:79},{r:255,g:0,b:0},{r:80,g:24,b:0}],sgb1e:[{r:255,g:248,b:175},{r:127,g:192,b:127},{r:111,g:136,b:64},{r:95,g:56,b:32}],sgb1f:[{r:223,g:232,b:255},{r:224,g:136,b:80},{r:175,g:0,b:0},{r:0,g:64,b:16}],sgb1g:[{r:0,g:0,b:80},{r:0,g:160,b:239},{r:127,g:120,b:0},{r:255,g:248,b:95}],sgb1h:[{r:255,g:232,b:224},{r:255,g:184,b:143},{r:128,g:64,b:0},{r:48,g:24,b:0}],sgb2a:[{r:240,g:200,b:160},{r:192,g:136,b:79},{r:47,g:120,b:0},{r:0,g:0,b:0}],sgb2b:[{r:255,g:248,b:255},{r:255,g:232,b:80},{r:255,g:48,b:0},{r:80,g:0,b:95}],sgb2c:[{r:255,g:192,b:255},{r:239,g:136,b:143},{r:127,g:48,b:239},{r:47,g:40,b:159}],sgb2d:[{r:255,g:248,b:160},{r:0,g:248,b:0},{r:255,g:48,b:0},{r:0,g:0,b:80}],sgb2e:[{r:255,g:248,b:128},{r:144,g:176,b:224},{r:47,g:16,b:96},{r:16,g:8,b:16}],sgb2f:[{r:208,g:248,b:255},{r:255,g:144,b:80},{r:160,g:0,b:0},{r:31,g:0,b:0}],sgb2g:[{r:111,g:184,b:63},{r:224,g:80,b:64},{r:224,g:184,b:128},{r:0,g:24,b:0}],sgb2h:[{r:255,g:248,b:255},{r:191,g:184,b:191},{r:112,g:112,b:112},{r:0,g:0,b:0}],sgb3a:[{r:255,g:208,b:159},{r:112,g:192,b:192},{r:255,g:96,b:47},{r:48,g:72,b:96}],sgb3b:[{r:223,g:216,b:192},{r:224,g:128,b:32},{r:0,g:80,b:0},{r:0,g:16,b:16}],sgb3c:[{r:224,g:168,b:207},{r:255,g:248,b:127},{r:0,g:184,b:255},{r:32,g:32,b:95}],sgb3d:[{r:240,g:248,b:191},{r:224,g:168,b:127},{r:15,g:200,b:0},{r:0,g:0,b:0}],sgb3e:[{r:255,g:248,b:191},{r:224,g:176,b:111},{r:176,g:120,b:32},{r:80,g:72,b:112}],sgb3f:[{r:127,g:120,b:207},{r:255,g:104,b:255},{r:255,g:208,b:0},{r:64,g:64,b:64}],sgb3g:[{r:96,g:216,b:80},{r:255,g:248,b:255},{r:207,g:48,b:63},{r:63,g:0,b:0}],sgb3h:[{r:224,g:248,b:160},{r:127,g:200,b:63},{r:79,g:136,b:31},{r:15,g:24,b:0}],sgb4a:[{r:240,g:168,b:111},{r:127,g:168,b:255},{r:208,g:0,b:208},{r:0,g:0,b:127}],sgb4b:[{r:240,g:232,b:240},{r:239,g:160,b:96},{r:64,g:120,b:63},{r:31,g:8,b:15}],sgb4c:[{r:255,g:224,b:224},{r:223,g:160,b:208},{r:159,g:160,b:224},{r:15,g:0,b:0}],sgb4d:[{r:255,g:248,b:191},{r:144,g:200,b:207},{r:79,g:104,b:127},{r:15,g:32,b:79}],sgb4e:[{r:255,g:224,b:176},{r:232,g:176,b:120},{r:120,g:66,b:144},{r:0,g:10,b:21}],sgb4f:[{r:191,g:208,b:208},{r:223,g:128,b:223},{r:128,g:0,b:160},{r:63,g:0,b:0}],sgb4g:[{r:176,g:224,b:31},{r:191,g:32,b:95},{r:47,g:16,b:0},{r:0,g:128,b:96}],sgb4h:[{r:255,g:248,b:207},{r:191,g:192,b:95},{r:128,g:136,b:64},{r:64,g:80,b:47}],gbc1:[{r:255,g:255,b:255},{r:255,g:173,b:99},{r:132,g:49,b:0},{r:0,g:0,b:0}],gbc2:[{r:255,g:255,b:255},{r:255,g:132,b:132},{r:148,g:58,b:58},{r:0,g:0,b:0}],gbc3:[{r:255,g:255,b:255},{r:123,g:255,b:49},{r:0,g:132,b:0},{r:0,g:0,b:0}],gbc4:[{r:255,g:255,b:255},{r:99,g:165,b:255},{r:0,g:0,b:255},{r:0,g:0,b:0}],gbc5:[{r:255,g:230,b:197},{r:206,g:156,b:132},{r:132,g:107,b:41},{r:90,g:49,b:8}],gbc6:[{r:255,g:255,b:255},{r:140,g:140,b:222},{r:82,g:82,b:140},{r:0,g:0,b:0}],gbc7:[{r:255,g:255,b:255},{r:165,g:165,b:165},{r:82,g:82,b:82},{r:0,g:0,b:0}],gbc8:[{r:255,g:255,b:165},{r:255,g:148,b:148},{r:148,g:148,b:255},{r:0,g:0,b:0}],gbc9:[{r:255,g:255,b:255},{r:255,g:255,b:0},{r:255,g:0,b:0},{r:0,g:0,b:0}],gbc10:[{r:255,g:255,b:255},{r:255,g:255,b:0},{r:123,g:74,b:0},{r:0,g:0,b:0}],gbc11:[{r:255,g:255,b:255},{r:82,g:255,b:0},{r:255,g:66,b:0},{r:0,g:0,b:0}],gbc12:[{r:255,g:255,b:255},{r:123,g:255,b:49},{r:0,g:99,b:197},{r:0,g:0,b:0}],gbc13:[{r:0,g:0,b:0},{r:0,g:132,b:132},{r:255,g:222,b:0},{r:255,g:255,b:255}],gb:[{r:165,g:198,b:48},{r:139,g:172,b:48},{r:48,g:98,b:48},{r:15,g:56,b:48}],bw1:[{r:255,g:255,b:255},{r:0,g:0,b:0},{r:0,g:0,b:0},{r:0,g:0,b:0}],bw2:[{r:255,g:255,b:255},{r:255,g:255,b:255},{r:0,g:0,b:0},{r:0,g:0,b:0}],bw3:[{r:255,g:255,b:255},{r:255,g:255,b:255},{r:255,g:255,b:255},{r:0,g:0,b:0}],sepia:[{r:245,g:239,b:188},{r:222,g:195,b:149},{r:178,g:142,b:110},{r:104,g:60,b:52}],yellow:[{r:255,g:238,b:0},{r:191,g:182,b:48},{r:128,g:123,b:64},{r:64,g:63,b:48}],blue:[{r:0,g:118,b:250},{r:47,g:112,b:186},{r:61,g:90,b:122},{r:44,g:51,b:59}],red:[{r:250,g:17,b:0},{r:191,g:57,b:48},{r:128,g:68,b:64},{r:64,g:49,b:49}],green:[{r:0,g:249,b:29},{r:47,g:186,b:63},{r:61,g:122,b:68},{r:44,g:59,b:46}],pink:[{r:250,g:0,b:241},{r:186,g:47,b:181},{r:122,g:61,b:120},{r:59,g:44,b:58}],orange:[{r:250,g:160,b:0},{r:186,g:135,b:47},{r:122,g:100,b:61},{r:59,g:53,b:44}],gbcm1:[{r:255,g:255,b:255},{r:160,g:160,b:160},{r:80,g:80,b:80},{r:0,g:0,b:0}],gbcm2:[{r:155,g:188,b:15},{r:128,g:159,b:14},{r:48,g:98,b:48},{r:15,g:56,b:15}],gbcm3:[{r:224,g:248,b:208},{r:136,g:192,b:112},{r:52,g:104,b:86},{r:8,g:24,b:32}],gbcm4:[{r:255,g:255,b:255},{r:103,g:228,b:33},{r:14,g:95,b:175},{r:0,g:0,b:0}],gbcm5:[{r:255,g:239,b:206},{r:222,g:148,b:75},{r:173,g:41,b:33},{r:49,g:25,b:82}],b1:[{r:248,g:227,b:196},{r:204,g:52,b:149},{r:107,g:31,b:177},{r:11,g:6,b:48}],b2:[{r:161,g:239,b:140},{r:63,g:172,b:149},{r:68,g:97,b:118},{r:44,g:33,b:55}],b3:[{r:240,g:240,b:240},{r:143,g:155,b:246},{r:171,g:70,b:70},{r:22,g:22,b:22}],b4:[{r:232,g:214,b:192},{r:146,g:147,b:141},{r:161,g:40,b:28},{r:0,g:0,b:0}],b5:[{r:254,g:208,b:24},{r:211,g:86,b:0},{r:94,g:18,b:16},{r:13,g:4,b:5}],b6:[{r:247,g:219,b:126},{r:224,g:110,b:22},{r:25,g:105,b:44},{r:20,g:43,b:35}],b7:[{r:202,g:245,b:50},{r:116,g:175,b:52},{r:92,g:79,b:163},{r:86,g:29,b:23}],b8:[{r:254,g:208,b:24},{r:143,g:155,b:246},{r:68,g:97,b:118},{r:13,g:4,b:5}],b9:[{r:224,g:198,b:148},{r:148,g:206,b:224},{r:148,g:158,b:224},{r:97,g:85,b:62}],b10:[{r:247,g:231,b:255},{r:148,g:242,b:167},{r:168,g:135,b:222},{r:44,g:71,b:21}]},S=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","_","'",",",".","Ã","Ã‚","Ã€","Ã„","Ã‰","Ã‰","Ãˆ","Ã‹","ÃŒ","Ã","Ã“","Ã–","Ãš","Ãœ","Ã‘","-","&","!","?","","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","â€¢","~","ðŸ“ž","","Ã¡","Ã¢","Ã ","Ã¤","Ã©","Ãª","Ã¨","Ã«","Ã¬","Ã­","Ã³","Ã¶","Ãº","Ã¼","Ã±","Ã§","ÃŸ","ðŸ˜€","ðŸ˜Ÿ","ðŸ˜„","0","1","2","3","4","5","6","7","8","9","/",":","~",'"',"@"];var O=4096,P=function(e,n){return 255===e[4567+n]},k=function(e){return e>=86&&e<=200?S[e-86]:""},A=function(e,n,r){for(var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o="",a=n+t;a<=r+t;a++)e[a]&&(o+=k(e[a]));return o},T=function(e,n){return A(e,12053,12079,O*n)},E=function(e){return A(e,12036,12044)},C=function(e){return 1===e[12045]?"male":"female"},D=function(e,n){var r=e[12116+O*n]+1;return String(r)};const I=function(e,n,r){for(var t=new Uint8ClampedArray(4*e.length),o=function(e,n){var r,t=[];switch(n){case"i":case"invert":r=[3,2,1,0];break;case"pa":r=[3,1,2,0];break;case"pb":r=[0,2,1,3];break;case"pc":r=[0,3,2,1];break;case"pd":r=[2,1,0,3];break;default:r=[0,1,2,3]}for(var o=0;o<4;o++)t[o]=e[r[o]];return t}(n,r),a=0;a<e.length;a++){var i=o[e[a]],l=4*a;t[l+0]=i.r,t[l+1]=i.g,t[l+2]=i.b,t[l+3]=255}return t};function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}var F=function(e,n){var r,t=128,o=function(e){if(Array.isArray(e))return R(e)}(r=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,n){if(e){if("string"==typeof e)return R(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,n):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();if("rtl"===n||"ltr"===n)for(var a=0;a<112;a++)for(var i=0;i<64;i++){var l=a*t+i,c=a*t+(127-i);"rtl"===n?o[l]=e[c]:o[c]=e[l]}else for(var s=0;s<56;s++)for(var u=0;u<t;u++){var d=s*t+u,b=(111-s)*t+u;"btt"===n?o[d]=e[b]:o[b]=e[d]}return o},N=function(e,n){var r=128,t=new Array(14336);if("center"===n)for(var o=0;o<56;o++)for(var a=0;a<64;a++){var i=e[(28+o)*r+(32+a)],l=2*a,c=2*o;t[c*r+l]=i,t[c*r+(l+1)]=i,t[(c+1)*r+l]=i,t[(c+1)*r+(l+1)]=i}else if("v"===n)for(var s=0;s<56;s++)for(var u=0;u<r;u++){var d=e[(28+s)*r+u],b=2*s;t[b*r+u]=d,t[(b+1)*r+u]=d}else if("h"===n)for(var f=0;f<112;f++)for(var g=0;g<64;g++){var m=e[f*r+(32+g)],p=2*g;t[f*r+p]=m,t[f*r+p+1]=m}return t};function M(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return B(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}var z=128,L=14336;function q(){var e,n,r="function"==typeof Symbol?Symbol:{},t=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,t,o,a){var c=t&&t.prototype instanceof l?t:l,s=Object.create(c.prototype);return G(s,"_invoke",function(r,t,o){var a,l,c,s=0,u=o||[],d=!1,b={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(n,r){return a=n,l=0,c=e,b.n=r,i}};function f(r,t){for(l=r,c=t,n=0;!d&&s&&!o&&n<u.length;n++){var o,a=u[n],f=b.p,g=a[2];r>3?(o=g===t)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=r<2&&f<a[1])?(l=0,b.v=t,b.n=a[1]):f<g&&(o=r<3||a[0]>t||t>g)&&(a[4]=r,a[5]=t,b.n=g,l=0))}if(o||r>1)return i;throw d=!0,t}return function(o,u,g){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),l=u,c=g;(n=l<2?e:c)||!d;){a||(l?l<3?(l>1&&(b.n=-1),f(l,c)):b.n=c:b.v=c);try{if(s=2,a){if(l||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=a.return)&&n.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((n=(d=b.n<0)?c:r.call(t,b))!==i)break}catch(n){a=e,l=1,c=n}finally{s=1}}return{value:n,done:d}}}(r,o,a),!0),s}var i={};function l(){}function c(){}function s(){}n=Object.getPrototypeOf;var u=[][t]?n(n([][t]())):(G(n={},t,function(){return this}),n),d=s.prototype=l.prototype=Object.create(u);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,G(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,G(d,"constructor",s),G(s,"constructor",c),c.displayName="GeneratorFunction",G(s,o,"GeneratorFunction"),G(d),G(d,o,"Generator"),G(d,t,function(){return this}),G(d,"toString",function(){return"[object Generator]"}),(q=function(){return{w:a,m:b}})()}function G(e,n,r,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}G=function(e,n,r,t){function a(n,r){G(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!t,configurable:!t,writable:!t}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},G(e,n,r,t)}function U(e,n,r,t,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?n(c):Promise.resolve(c).then(t,o)}function X(e,n){return J.apply(this,arguments)}function J(){var e;return e=q().m(function e(n,r){var t,o,a,i,l,c,s,u,d,b,f;return q().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,createImageBitmap(new Blob([n]));case 1:t=e.v,o=new OffscreenCanvas(t.width,t.height),(a=o.getContext("2d")).drawImage(t,0,0),i=a.getImageData(0,0,t.width,t.height),l=i.data,c=[[255,255,255,255],[160,160,160,255],[80,80,80,255],[0,0,0,255]],s=r.map(function(e){return[e.r,e.g,e.b,255]}),u=function(e,n){return e[0]===n[0]&&e[1]===n[1]&&e[2]===n[2]&&e[3]===n[3]},d=0;case 2:if(!(d<l.length)){e.n=6;break}b=[l[d],l[d+1],l[d+2],l[d+3]],f=0;case 3:if(!(f<c.length)){e.n=5;break}if(!u(b,c[f])){e.n=4;break}return l[d]=s[f][0],l[d+1]=s[f][1],l[d+2]=s[f][2],e.a(3,5);case 4:f++,e.n=3;break;case 5:d+=4,e.n=2;break;case 6:return e.n=7,createImageBitmap(i);case 7:return e.a(2,e.v)}},e)}),J=function(){var n=this,r=arguments;return new Promise(function(t,o){var a=e.apply(n,r);function i(e){U(a,t,o,i,l,"next",e)}function l(e){U(a,t,o,i,l,"throw",e)}i(void 0)})},J.apply(this,arguments)}function H(e,n,r,t,o){var a=o||{},i=a.top,l=void 0===i?n?16:0:i,c=a.bottom,s=void 0===c?n?16:0:c,u=a.left,d=void 0===u?n?16:0:u,b=a.right,f=r+d+(void 0===b?n?16:0:b),g=t+l+s,m=new OffscreenCanvas(f,g),p=m.getContext("2d");return p.imageSmoothingEnabled=!1,p.drawImage(e,d,l,r,t),n&&p.drawImage(n,0,0,f,g),m}var K=function(e){return e?e.name.includes("wild")?{top:40,bottom:72,left:16,right:16}:{top:16,bottom:16,left:16,right:16}:{top:0,bottom:0,left:0,right:0}};function W(){var e,n,r="function"==typeof Symbol?Symbol:{},t=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,t,o,a){var c=t&&t.prototype instanceof l?t:l,s=Object.create(c.prototype);return $(s,"_invoke",function(r,t,o){var a,l,c,s=0,u=o||[],d=!1,b={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(n,r){return a=n,l=0,c=e,b.n=r,i}};function f(r,t){for(l=r,c=t,n=0;!d&&s&&!o&&n<u.length;n++){var o,a=u[n],f=b.p,g=a[2];r>3?(o=g===t)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=r<2&&f<a[1])?(l=0,b.v=t,b.n=a[1]):f<g&&(o=r<3||a[0]>t||t>g)&&(a[4]=r,a[5]=t,b.n=g,l=0))}if(o||r>1)return i;throw d=!0,t}return function(o,u,g){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),l=u,c=g;(n=l<2?e:c)||!d;){a||(l?l<3?(l>1&&(b.n=-1),f(l,c)):b.n=c:b.v=c);try{if(s=2,a){if(l||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=a.return)&&n.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((n=(d=b.n<0)?c:r.call(t,b))!==i)break}catch(n){a=e,l=1,c=n}finally{s=1}}return{value:n,done:d}}}(r,o,a),!0),s}var i={};function l(){}function c(){}function s(){}n=Object.getPrototypeOf;var u=[][t]?n(n([][t]())):($(n={},t,function(){return this}),n),d=s.prototype=l.prototype=Object.create(u);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,$(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,$(d,"constructor",s),$(s,"constructor",c),c.displayName="GeneratorFunction",$(s,o,"GeneratorFunction"),$(d),$(d,o,"Generator"),$(d,t,function(){return this}),$(d,"toString",function(){return"[object Generator]"}),(W=function(){return{w:a,m:b}})()}function $(e,n,r,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}$=function(e,n,r,t){function a(n,r){$(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!t,configurable:!t,writable:!t}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},$(e,n,r,t)}function V(e,n,r,t,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?n(c):Promise.resolve(c).then(t,o)}var Q=function(e){var n=e.onExport,r=e.onSelect,t=e.isSelected,o=e.isDisabled,a=e.imageIndex;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("button",{className:"button",onClick:n,children:["Export",(0,i.jsx)("span",{children:" as PNG"})]}),r?(0,i.jsxs)("label",{className:"pixel-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:function(e){return r(a,e.target.checked)},disabled:o}),(0,i.jsx)("span",{})]}):null]})};Q.propTypes={onExport:c.func.isRequired,onSelect:c.func,isSelected:c.bool,isDisabled:c.bool,imageIndex:c.number},Q.defaultProps={onSelect:null,isSelected:!1,isDisabled:!1,imageIndex:-1};const Z=Q;function Y(){var e,n,r="function"==typeof Symbol?Symbol:{},t=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,t,o,a){var c=t&&t.prototype instanceof l?t:l,s=Object.create(c.prototype);return ee(s,"_invoke",function(r,t,o){var a,l,c,s=0,u=o||[],d=!1,b={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(n,r){return a=n,l=0,c=e,b.n=r,i}};function f(r,t){for(l=r,c=t,n=0;!d&&s&&!o&&n<u.length;n++){var o,a=u[n],f=b.p,g=a[2];r>3?(o=g===t)&&(c=a[(l=a[4])?5:(l=3,3)],a[4]=a[5]=e):a[0]<=f&&((o=r<2&&f<a[1])?(l=0,b.v=t,b.n=a[1]):f<g&&(o=r<3||a[0]>t||t>g)&&(a[4]=r,a[5]=t,b.n=g,l=0))}if(o||r>1)return i;throw d=!0,t}return function(o,u,g){if(s>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),l=u,c=g;(n=l<2?e:c)||!d;){a||(l?l<3?(l>1&&(b.n=-1),f(l,c)):b.n=c:b.v=c);try{if(s=2,a){if(l||(o="next"),n=a[o]){if(!(n=n.call(a,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,l<2&&(l=0)}else 1===l&&(n=a.return)&&n.call(a),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);a=e}else if((n=(d=b.n<0)?c:r.call(t,b))!==i)break}catch(n){a=e,l=1,c=n}finally{s=1}}return{value:n,done:d}}}(r,o,a),!0),s}var i={};function l(){}function c(){}function s(){}n=Object.getPrototypeOf;var u=[][t]?n(n([][t]())):(ee(n={},t,function(){return this}),n),d=s.prototype=l.prototype=Object.create(u);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,ee(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=s,ee(d,"constructor",s),ee(s,"constructor",c),c.displayName="GeneratorFunction",ee(s,o,"GeneratorFunction"),ee(d),ee(d,o,"Generator"),ee(d,t,function(){return this}),ee(d,"toString",function(){return"[object Generator]"}),(Y=function(){return{w:a,m:b}})()}function ee(e,n,r,t){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ee=function(e,n,r,t){function a(n,r){ee(e,n,function(e){return this._invoke(n,r,e)})}n?o?o(e,n,{value:r,enumerable:!t,configurable:!t,writable:!t}):e[n]=r:(a("next",0),a("throw",1),a("return",2))},ee(e,n,r,t)}function ne(e,n,r,t,o,a,i){try{var l=e[a](i),c=l.value}catch(e){return void r(e)}l.done?n(c):Promise.resolve(c).then(t,o)}function re(e){return function(){var n=this,r=arguments;return new Promise(function(t,o){var a=e.apply(n,r);function i(e){ne(a,t,o,i,l,"next",e)}function l(e){ne(a,t,o,i,l,"throw",e)}i(void 0)})}}function te(e){var n,r=e.image,o=e.paletteId,a=e.frame,l=e.scaleFactor,c=e.showDeletedFlag,s=e.isScale,u=e.onClick,d=e.onSelect,b=e.isSelected,f=e.isDisabled,g=e.drawHandlers,m=function(e,n,r,o,a){var i=(0,t.useRef)(null),l=(0,t.useRef)(null),c=_[n];return(0,t.useEffect)(function(){var n;e&&(n=W().m(function n(){var t,s,u,d,b,f,g,m,p,h,v,y,x,w,j;return W().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,t=e.width,s=e.height,u=e.photoData,d=I(u,c,a),n.n=1,createImageBitmap(new ImageData(d,t,s));case 1:if(b=n.v,!r){n.n=3;break}return n.n=2,X(r.data,c);case 2:w=n.v,n.n=4;break;case 3:w=null;case 4:f=w,g=K(r),m=H(b,f,t,s,g),p=new OffscreenCanvas(10*m.width,10*m.height),(h=p.getContext("2d")).imageSmoothingEnabled=!1,h.drawImage(m,0,0,p.width,p.height),l.current=p,(v=i.current)&&(y=v.getContext("2d"),x=2*o,v.width=m.width*x,v.height=m.height*x,y.imageSmoothingEnabled=!1,y.drawImage(m,0,0,v.width,v.height)),n.n=6;break;case 5:n.p=5,j=n.v,console.log(j);case 6:return n.a(2)}},n,null,[[0,5]])}),function(){var e=this,r=arguments;return new Promise(function(t,o){var a=n.apply(e,r);function i(e){V(a,t,o,i,l,"next",e)}function l(e){V(a,t,o,i,l,"throw",e)}i(void 0)})})()},[e,c,r,o,10,a]),{displayCanvasRef:i,saveCanvasRef:l}}(r,o,a,l,e.paletteOrder),p=m.displayCanvasRef,h=(n=m.saveCanvasRef,{handleExport:(0,t.useCallback)(re(Y().m(function e(){var r,t,o;return Y().w(function(e){for(;;)switch(e.n){case 0:if(r=n.current){e.n=1;break}return console.error("Save canvas not ready for export."),e.a(2);case 1:return e.n=2,r.convertToBlob({type:"image/png"});case 2:t=e.v,(o=document.createElement("a")).download="gb-photo-".concat(Date.now(),".png"),o.href=URL.createObjectURL(t),o.click(),URL.revokeObjectURL(o.href);case 3:return e.a(2)}},e)})),[n])}).handleExport,v=l,y=a?160:128,x=a&&a.name.includes("wild"),j=a?"0":16*v+"px",S=y*v,O=(a?x?224:144:112)*v;if(!r)return null;var P=g||{},k=P.onDrawStart,A=P.onDrawMove,T=P.onDrawEnd,E=P.onMouseLeave,C=(0,i.jsxs)(i.Fragment,{children:[r.isDeleted&&c?(0,i.jsx)("div",{className:w.KF,children:"d"}):null,(0,i.jsx)("canvas",{className:w.Ji,width:S,height:O,style:{padding:j,width:S+"px",height:O+"px"},ref:p,onMouseDown:k,onMouseMove:A,onMouseUp:T,onMouseLeave:E,onTouchStart:k,onTouchMove:A,onTouchEnd:T})]});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"".concat(w.jW," ").concat(s?w.hs:""),children:[u?(0,i.jsx)("button",{className:w.Qd,onClick:u,children:C}):(0,i.jsx)("div",{className:w.Qd,children:C}),(0,i.jsx)("div",{className:w.ne,children:(0,i.jsx)(Z,{onExport:h,onSelect:d,isSelected:b,isDisabled:f,imageIndex:null==r?void 0:r.index})})]})})}te.propTypes={image:c.object,paletteId:c.string,frame:c.object,scaleFactor:c.number,showDeletedFlag:c.bool,isScale:c.bool,onClick:c.func,onSelect:c.func,isSelected:c.bool,isDisabled:c.bool,drawHandlers:c.shape({onDrawStart:c.func,onDrawMove:c.func,onDrawEnd:c.func,onMouseLeave:c.func}),paletteOrder:c.string};const oe=te;var ae=r(294),ie={};ie.styleTagTransform=x(),ie.setAttributes=p(),ie.insert=g().bind(null,"head"),ie.domAPI=b(),ie.insertStyleElement=v(),u()(ae.Ay,ie),ae.Ay&&ae.Ay.locals&&ae.Ay.locals;var le=r(197),ce={};ce.styleTagTransform=x(),ce.setAttributes=p(),ce.insert=g().bind(null,"head"),ce.domAPI=b(),ce.insertStyleElement=v(),u()(le.Ay,ce),le.Ay&&le.Ay.locals&&le.Ay.locals;var se=function(e){var n=e.isOpen,r=e.setIsOpen,t=e.title,o=e.children,a=e.type;return(0,i.jsx)("div",{className:"".concat(le.rV," ").concat("small"===a?le.EX:""," ").concat("full"===a?le.a2:""),onClick:function(){return r(!1)},style:{display:n?"flex":"none"},children:(0,i.jsxs)("div",{className:le.yl,onClick:function(e){return e.stopPropagation()},children:[(0,i.jsx)("button",{className:"closeButton ".concat(le.VN),onClick:function(){return r(!n)},children:"x"}),(0,i.jsx)("h2",{children:t}),(0,i.jsx)("div",{className:le.V1,children:o})]})})};se.propTypes={isOpen:c.bool.isRequired,setIsOpen:c.func.isRequired,title:c.string.isRequired,children:c.node,type:c.string};const ue=se;function de(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}var be=function(e){var n,r,o=e.selectedPalette,a=e.onPaletteChange,l=(n=(0,t.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(n,r)||function(e,n){if(e){if("string"==typeof e)return de(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],s=l[1];return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:function(){return s(!c)},className:"button",children:"Palette: ".concat(o)}),(0,i.jsx)(ue,{isOpen:c,setIsOpen:s,title:"Palettes",allowScroll:!0,zindex:8,children:(0,i.jsx)("div",{className:ae.P2,children:Object.keys(_).map(function(e){var n=_[e],r=o===e;return(0,i.jsxs)("label",{className:ae.Pf,children:[(0,i.jsx)("input",{type:"radio",name:"palette",value:e,checked:r,onChange:function(e){return function(e){a(e),s(!1)}(e.target.value)},className:ae.gB}),(0,i.jsx)("span",{className:ae.O6,style:r?{borderColor:"color-mix(in srgb, var(--c-modalcopy) 20%, #fff)"}:null,children:n.map(function(e,n){return(0,i.jsx)("span",{className:ae.fp,style:{backgroundColor:"rgb(".concat(e.r,",").concat(e.g,",").concat(e.b,")")}},n)})}),e]},e)})})})]})})};be.propTypes={selectedPalette:c.string.isRequired,onPaletteChange:c.func.isRequired};const fe=be;var ge=r(963),me={};me.styleTagTransform=x(),me.setAttributes=p(),me.insert=g().bind(null,"head"),me.domAPI=b(),me.insertStyleElement=v(),u()(ge.Ay,me),ge.Ay&&ge.Ay.locals&&ge.Ay.locals;var pe=(0,t.forwardRef)(function(e,n){var r=e.text,o=e.onChange,a=e.onRemove,l=e.showRemove,c=e.accept,s=new FileReader,u=(0,t.useRef)(null),d=n||u;return(0,i.jsxs)("div",{className:ge.Q5,children:[(0,i.jsx)("input",{ref:d,type:"file",id:"images",accept:c,multiple:!0,onChange:function(e){var n=e.target.files[0];n&&(s.onload=function(){o({data:s.result,name:n.name})},s.readAsArrayBuffer(n))}}),(0,i.jsx)("button",{className:"button",onClick:function(){d.current&&d.current.click()},children:r}),(0,i.jsx)("button",{className:"closeButton ".concat(ge.TF),onClick:function(){a&&a(),d.current&&(d.current.value=null)},style:{display:l?"block":"none"},children:"x"})]})});const he=pe;pe.displayName="FileLoader",pe.propTypes={text:c.string.isRequired,onChange:c.func.isRequired,onRemove:c.func,showRemove:c.bool,accept:c.string},pe.defaultProps={onRemove:null,showRemove:!1,accept:""};var ve=r(352),ye={};ye.styleTagTransform=x(),ye.setAttributes=p(),ye.insert=g().bind(null,"head"),ye.domAPI=b(),ye.insertStyleElement=v(),u()(ve.Ay,ye),ve.Ay&&ve.Ay.locals&&ve.Ay.locals;var xe=(0,t.forwardRef)(function(e,n){var r=e.palette,t=e.setPalette,o=e.setSaveData,a=e.setFrame,l=e.setIsSettingsOpen,c=e.isSettingsOpen,s=e.saveData,u=e.frame,d=e.color,b=e.count;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"".concat(ve.KE," color").concat(d),children:[b>0?(0,i.jsx)("div",{className:ve.XJ,children:b}):null,(0,i.jsx)("div",{className:ve.jI,children:(0,i.jsx)(he,{text:"Select .sav â€¦",onChange:function(e){var n=function(e){for(var n=[],r=new Uint8Array(e),t=function(){var e=o,t=null,a={width:128,height:112,comment:T(r,e),frameId:D(r,e),isDeleted:P(r,e),get photoData(){return null===t&&(t=function(e,n){for(var r=8192+n*O,t=128,o=new Uint8Array(14336),a=0;a<14;a++)for(var i=0;i<16;i++)for(var l=r+16*(16*a+i),c=0;c<8;c++)for(var s=e[l+2*c],u=e[l+2*c+1],d=0;d<8;d++){var b=128>>d,f=(u&b?2:0)|(s&b?1:0);o[(8*a+c)*t+(8*i+d)]=f}return{width:t,height:112,photoData:o}}(r,e).photoData),t}};(function(e){if(!e||0===e.length)return!0;var n=e[0];return e.every(function(e){return e===n})})(a.photoData)||n.push(a)},o=0;o<30;o++)t();return{username:E(r),gender:C(r),images:n}}(e.data);o(n),window.scrollTo(0,0)},onRemove:function(){return o(null)},showRemove:!!s,accept:".sav",ref:n})}),(0,i.jsx)("div",{className:ve.jI,children:(0,i.jsx)(he,{text:"Select frame â€¦",onChange:function(e){var n=e.data,r=e.name;a({data:n,name:r})},onRemove:function(){return a(null)},showRemove:!!u,accept:".png"})}),(0,i.jsx)("div",{className:ve.jI,children:(0,i.jsx)(fe,{selectedPalette:r,onPaletteChange:t})}),(0,i.jsx)("div",{className:ve.oX,children:(0,i.jsx)("button",{className:"imgButton",onClick:function(){return l(!c)},children:"â›­"})}),(0,i.jsx)("span",{className:"".concat(ve.wm," fontBold"),children:"GBCam Studio"})]})})});const we=xe;xe.displayName="ToolBar",xe.propTypes={palette:c.string.isRequired,setPalette:c.func.isRequired,setSaveData:c.func.isRequired,setFrame:c.func.isRequired,setScaleFactor:c.func.isRequired,setIsSettingsOpen:c.func.isRequired,isSettingsOpen:c.bool.isRequired,saveData:c.object,frame:c.object,scaleFactor:c.number.isRequired,color:c.string.isRequired,count:c.number.isRequired};var je=r(656),_e={};_e.styleTagTransform=x(),_e.setAttributes=p(),_e.insert=g().bind(null,"head"),_e.domAPI=b(),_e.insertStyleElement=v(),u()(je.A,_e),je.A&&je.A.locals&&je.A.locals;var Se=function(e){var n=e.settings,r=e.onSettingChange;return(0,i.jsxs)("div",{className:je.W,children:[(0,i.jsxs)("label",{children:["Photo scale:"," ",(0,i.jsxs)("select",{className:"select",name:"scaleFactor",value:n.scaleFactor,onChange:r,children:[(0,i.jsx)("option",{value:1,children:"1"}),(0,i.jsx)("option",{value:2,children:"2"}),(0,i.jsx)("option",{value:3,children:"3"}),(0,i.jsx)("option",{value:4,children:"4"})]})]}),(0,i.jsxs)("label",{children:["UI color:"," ",(0,i.jsxs)("select",{className:"select",name:"color",value:n.color,onChange:r,children:[(0,i.jsx)("option",{children:"red"}),(0,i.jsx)("option",{children:"green"}),(0,i.jsx)("option",{children:"yellow"}),(0,i.jsx)("option",{children:"blue"})]})]}),(0,i.jsxs)("label",{className:"pixel-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",name:"isReversed",checked:n.isReversed,onChange:r}),(0,i.jsx)("span",{}),"Reverse order"]}),(0,i.jsxs)("label",{className:"pixel-checkbox",children:[(0,i.jsx)("input",{type:"checkbox",name:"isShowDeleted",checked:n.isShowDeleted,onChange:r}),(0,i.jsx)("span",{}),"Show deleted"]})]})};const Oe=Se;Se.propTypes={settings:c.shape({isShowDeleted:c.bool.isRequired,scaleFactor:c.number.isRequired,color:c.string.isRequired,isReversed:c.bool.isRequired}).isRequired,onSettingChange:c.func.isRequired};var Pe=r(713),ke={};function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Te(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function Ee(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Te(Object(r),!0).forEach(function(n){Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ce(e,n,r){return(n=function(e){var n=function(e){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ae(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function De(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,n)||Ie(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,n){if(e){if("string"==typeof e)return Re(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Re(e,n):void 0}}function Re(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}function Fe(e){return Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fe(e)}function Ne(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function Me(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(r),!0).forEach(function(n){Be(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Be(e,n,r){return(n=function(e){var n=function(e){if("object"!=Fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Fe(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ze(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,n)||Le(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,n){if(e){if("string"==typeof e)return qe(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,n):void 0}}function qe(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}ke.styleTagTransform=x(),ke.setAttributes=p(),ke.insert=g().bind(null,"head"),ke.domAPI=b(),ke.insertStyleElement=v(),u()(Pe.Ay,ke),Pe.Ay&&Pe.Ay.locals&&Pe.Ay.locals;var Ge=function(e){var n=e.montagePhotos,r=e.editImage,o=e.palette,a=e.frame,l=ze((0,t.useState)("none"),2),c=l[0],s=l[1],u=ze((0,t.useState)(0),2),d=u[0],b=u[1],f=ze((0,t.useState)(1),2),g=f[0],m=f[1],p=ze((0,t.useState)("none"),2),h=p[0],v=p[1],y=ze((0,t.useState)("normal"),2),x=y[0],w=y[1],j=function(e,n,r,o){var a=De((0,t.useState)(e),2),i=a[0],l=a[1],c=De((0,t.useState)(!1),2),s=c[0],u=c[1],d=(0,t.useCallback)(function(e){var t,a=e.currentTarget;if(a&&i){for(var c=a.getBoundingClientRect(),s=a.width/c.width,u=a.height/c.height,d=function(e){return e.touches&&e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),b=d.x,f=d.y,g=(b-c.left)*s,m=(f-c.top)*u,p=K(n),h=Math.floor(g/8-p.left),v=Math.floor(m/8-p.top),y=function(e){if(Array.isArray(e))return Re(e)}(t=i.photoData)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Ie(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),x=Number(o),w=0;w<x;w++)for(var j=0;j<x;j++){var _=h+w,S=v+j;_>=0&&_<128&&S>=0&&S<112&&(y[128*S+_]=Number(r))}l(Ee(Ee({},i),{},{photoData:y}))}},[i,n,o,r]),b=(0,t.useCallback)(function(e){e.preventDefault(),u(!0),d(e)},[d]),f=(0,t.useCallback)(function(e){e.preventDefault(),s&&d(e)},[s,d]),g=(0,t.useCallback)(function(e){e.preventDefault(),u(!1)},[]);return{editedImage:i,setEditedImage:l,drawHandlers:{onDrawStart:b,onDrawMove:f,onDrawEnd:g,onMouseLeave:g}}}(r,a,d,g),_=j.editedImage,S=j.setEditedImage,O=j.drawHandlers;(0,t.useEffect)(function(){if(r){var e=(null==n?void 0:n.length)>0&&"none"!==h;if(_&&c&&"none"!==c||e){var t=e?function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal";if(!e)return[];switch(n){case"four-quadrant":return e.length<4||e.some(function(e){return!e})?[]:function(e){for(var n=M(e,4),r=n[0],t=n[1],o=n[2],a=n[3],i=new Uint8Array(L),l=64,c=0;c<112;c++){var s=c*z,u=s+z;c<56?(i.set(r.subarray(s,s+l),s),i.set(t.subarray(s+l,u),s+l)):(i.set(o.subarray(s,s+l),s),i.set(a.subarray(s+l,u),s+l))}return i}(e);case"horizontal-bars":return e.length<3||e.slice(0,3).some(function(e){return!e})?[]:function(e){var n=M(e,3),r=n[0],t=n[1],o=n[2],a=new Uint8Array(L);return a.set(t.subarray(0,4096)),a.set(r.subarray(4096,10240),4096),a.set(o.subarray(10240),10240),a}(e);default:if(e.length<2||!e[0]||!e[1])return[];var r=M(e,2),t=r[0],o=r[1];return"vertical"===n?function(e,n){for(var r=new Uint8Array(L),t=0;t<112;t++){var o=t*z,a=o+z;r.set(e.subarray(o,o+64),o),r.set(n.subarray(o+64,a),o+64)}return r}(t,o):"quadrant"===n?function(e,n){for(var r=new Uint8Array(L),t=64,o=0;o<112;o++){var a=o*z,i=a+z;o<56?(r.set(e.subarray(a,a+t),a),r.set(n.subarray(a+t,i),a+t)):(r.set(n.subarray(a,a+t),a),r.set(e.subarray(a+t,i),a+t))}return r}(t,o):"border"===n?function(e,n){for(var r=new Uint8Array(n),t=0;t<64;t++){var o=(24+t)*z+24,a=o+80,i=(24+t)*z+24;r.set(e.subarray(o,a),i)}return r}(t,o):"horizontal-2/3"===n?function(e,n){var r=new Uint8Array(L),t=10240;return r.set(e.subarray(0,t)),r.set(n.subarray(t),t),r}(t,o):function(e,n){var r=new Uint8Array(L),t=7168;return r.set(e.subarray(0,t)),r.set(n.subarray(t),t),r}(t,o)}}([r.photoData].concat(function(e){if(Array.isArray(e))return qe(e)}(o=n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||Le(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h):r.photoData;t=function(e,n){return"invert"===n?function(e){return e.map(function(e){return 3-e})}(e):"mirror-rtl"===n?F(e,"rtl"):"mirror-ltr"===n?F(e,"ltr"):"mirror-btt"===n?F(e,"btt"):"mirror-ttb"===n?F(e,"ttb"):"zoom"===n?N(e,"center"):"zoom-v"===n?N(e,"v"):"zoom-h"===n?N(e,"h"):"tile"===n?function(e){for(var n=new Array(3584),r=0;r<56;r++)for(var t=0;t<64;t++){var o=2*r*128+2*t;n[64*r+t]=e[o]}for(var a=new Array(14336),i=0;i<112;i++)for(var l=0;l<128;l++){var c=l%64,s=i%56;a[128*i+l]=n[64*s+c]}return a}(e):e}(t,c),S(Me(Me({},r),{},{photoData:t}))}"none"!==c||e||S(r)}var o},[c,r,n,h]);var P=function(){var e=(null==n?void 0:n.length)||0;if(0===e)return null;var r=["none","vertical","horizontal","quadrant","horizontal-2/3","border"];return e>1&&r.push("horizontal-bars"),e>2&&r.push("four-quadrant"),r.map(function(e){return(0,i.jsx)("option",{value:e,children:e},e)})}();return(0,i.jsxs)("div",{className:Pe.sH,children:[(0,i.jsx)("div",{className:Pe.jW,children:(0,i.jsx)(oe,{image:_,paletteId:o,frame:a,scaleFactor:4,isScale:!0,drawHandlers:O,paletteOrder:x})}),(0,i.jsxs)("div",{className:Pe.ne,children:[(0,i.jsxs)("label",{children:["Effect:",(0,i.jsxs)("select",{className:Pe.Lt,value:c,onChange:function(e){return s(e.target.value)},children:[(0,i.jsx)("option",{value:"none",children:"none"}),(0,i.jsx)("option",{value:"mirror-rtl",children:"mirror-rtl"}),(0,i.jsx)("option",{value:"mirror-ltr",children:"mirror-ltr"}),(0,i.jsx)("option",{value:"mirror-btt",children:"mirror-btt"}),(0,i.jsx)("option",{value:"mirror-ttb",children:"mirror-ttb"}),(0,i.jsx)("option",{value:"zoom",children:"zoom"}),(0,i.jsx)("option",{value:"zoom-h",children:"zoom-h"}),(0,i.jsx)("option",{value:"zoom-v",children:"zoom-v"}),(0,i.jsx)("option",{value:"tile",children:"tile"})]})]}),(0,i.jsxs)("label",{children:["Color:",(0,i.jsxs)("select",{className:Pe.Lt,value:d,onChange:function(e){return b(e.target.value)},children:[(0,i.jsx)("option",{value:"0",children:"Lightest"}),(0,i.jsx)("option",{value:"1",children:"Light"}),(0,i.jsx)("option",{value:"2",children:"Dark"}),(0,i.jsx)("option",{value:"3",children:"Darkest"})]})]}),(0,i.jsxs)("label",{children:["Brush Size:",(0,i.jsxs)("select",{className:Pe.Lt,value:g,onChange:function(e){return m(e.target.value)},children:[(0,i.jsx)("option",{value:"1",children:"1"}),(0,i.jsx)("option",{value:"2",children:"2"}),(0,i.jsx)("option",{value:"3",children:"3"}),(0,i.jsx)("option",{value:"4",children:"4"}),(0,i.jsx)("option",{value:"5",children:"5"}),(0,i.jsx)("option",{value:"6",children:"6"})]})]}),(0,i.jsxs)("label",{children:["Palette Order:",(0,i.jsxs)("select",{className:Pe.Lt,value:x,onChange:function(e){return w(e.target.value)},children:[(0,i.jsx)("option",{value:"normal",children:"normal"}),(0,i.jsx)("option",{value:"i",children:"invert"}),(0,i.jsx)("option",{value:"pa",children:"a"}),(0,i.jsx)("option",{value:"pb",children:"b"}),(0,i.jsx)("option",{value:"pc",children:"c"}),(0,i.jsx)("option",{value:"pd",children:"d"})]})]}),(null==n?void 0:n.length)>0?(0,i.jsxs)("label",{children:["Montage type:",(0,i.jsx)("select",{className:Pe.Lt,value:h,onChange:function(e){return v(e.target.value)},children:P})]}):null]})]})};const Ue=Ge;function Xe(e){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):null}catch(n){return console.error("Error getting item ".concat(e," from localStorage"),n),null}}function Je(e,n){try{window.localStorage.setItem(e,JSON.stringify(n))}catch(n){console.error("Error setting item ".concat(e," in localStorage"),n)}}function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ke(e){return function(e){if(Array.isArray(e))return Ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function We(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function $e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?We(Object(r),!0).forEach(function(n){Ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ve(e,n,r){return(n=function(e){var n=function(e){if("object"!=He(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==He(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Qe(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a,i,l=[],c=!0,s=!1;try{if(a=(r=r.call(e)).next,0===n){if(Object(r)!==r)return;c=!1}else for(;!(c=(t=a.call(r)).done)&&(l.push(t.value),l.length!==n);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return l}}(e,n)||Ze(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,n){if(e){if("string"==typeof e)return Ye(e,n);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(e,n):void 0}}function Ye(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t}Ge.propTypes={editImage:c.object,montagePhotos:c.array,palette:c.string,frame:c.object};const en=function(){var e=Qe((0,t.useState)(null),2),n=e[0],r=e[1],o=Qe((0,t.useState)(Xe("palette")||"sgb2h"),2),a=o[0],l=o[1],c=Qe((0,t.useState)(null),2),s=c[0],u=c[1],d=Qe((0,t.useState)("Select a .sav file"),2),b=d[0],f=d[1],g=Qe((0,t.useState)(!1),2),m=g[0],p=g[1],h=Qe((0,t.useState)(null),2),v=h[0],y=h[1],x=Qe((0,t.useState)(function(){var e=Xe("isReversed");return{scaleFactor:Xe("scaleFactor")||2,isShowDeleted:Xe("isShowDeleted")||!1,color:Xe("color")||"green",isReversed:null===e||e}}),2),w=x[0],j=x[1],_=Qe((0,t.useState)([]),2),S=_[0],O=_[1],P=(0,t.useRef)(null),k=function(e){var n=e.target,r=n.name,t=n.value,o=n.type,a=n.checked,i="checkbox"===o?a:"scaleFactor"===r?Number(t):t;j(function(e){return $e($e({},e),{},Ve({},r,i))})};(0,t.useEffect)(function(){O([])},[n]),(0,t.useEffect)(function(){Je("palette",a),Je("scaleFactor",w.scaleFactor),Je("isShowDeleted",w.isShowDeleted),Je("color",w.color),Je("isReversed",w.isReversed)},[a,w]),(0,t.useEffect)(function(){var e=function(e){var n=e.ctrlKey||e.metaKey;"+"!==e.key&&"="!==e.key||!n?"-"===e.key&&n&&(e.preventDefault(),k({target:{name:"scaleFactor",value:Math.max(w.scaleFactor-1,1)}})):(e.preventDefault(),k({target:{name:"scaleFactor",value:Math.min(w.scaleFactor+1,4)}}))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}},[]),(0,t.useEffect)(function(){return v||m?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),function(){document.body.classList.remove("modal-open")}},[v,m]),(0,t.useEffect)(function(){n?(f(""),n.images&&n.images.some(function(e){return e&&(!e.isDeleted||w.isShowDeleted)})||f("No images found")):f("Select a .sav file")},[n,w.isShowDeleted]);var A=function(e,r){if(r){if(S.length<3){var t=n.images[e];O(function(e){return[].concat(Ke(e),[t])})}}else O(function(n){return n.filter(function(n){return n.index!==e})})},T=S.map(function(e){return e.photoData}),E=S.length>=3,C=Array.from({length:30},function(e,r){var t=null==n?void 0:n.images[r];return!t||t.isDeleted&&!w.isShowDeleted?null:(t.index=r,t)}).filter(Boolean),D=C.filter(function(e){return!e.isDeleted}),I=C.filter(function(e){return e.isDeleted});w.isReversed&&(D.reverse(),I.reverse());var R=[].concat(Ke(D),Ke(I));return(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsxs)("div",{className:"photoGrid scale".concat(w.scaleFactor),style:{gridTemplateColumns:"repeat(auto-fit, minmax("+160*w.scaleFactor+"px, 1fr))"},children:[R.map(function(e){var n=S.some(function(n){return n.index===e.index});return(0,i.jsx)(oe,{image:e,paletteId:a,frame:s,scaleFactor:w.scaleFactor,showDeletedFlag:!0,onClick:function(){return y(e)},onSelect:A,isSelected:n,isDisabled:!n&&E},e.index)}),(0,i.jsx)("div",{style:{clear:"both"}})]}):null,b?(0,i.jsx)("div",{className:"mainMessage",onClick:function(){P.current&&P.current.click()},style:{cursor:"pointer"},children:b}):null,(0,i.jsx)(ue,{isOpen:v,setIsOpen:y,title:"Edit",type:"full",children:(0,i.jsx)(Ue,{editImage:v,montagePhotos:T,palette:a,frame:s})}),(0,i.jsx)(ue,{isOpen:m,setIsOpen:p,title:"Settings",type:"small",children:(0,i.jsx)(Oe,{settings:w,onSettingChange:k})}),(0,i.jsx)(we,{palette:a,setPalette:l,saveData:n,setSaveData:r,frame:s,setFrame:u,setIsSettingsOpen:p,isSettingsOpen:m,color:w.color,count:R.length,ref:P})]})};var nn=r(171),rn={};function tn(){return(0,i.jsx)(a.I9,{children:(0,i.jsx)(a.BV,{children:(0,i.jsxs)(a.qh,{path:"/",element:(0,i.jsx)(l,{}),children:[(0,i.jsx)(a.qh,{index:!0,element:(0,i.jsx)(en,{})}),(0,i.jsx)(a.qh,{path:"*",element:(0,i.jsx)(en,{})})]})})})}rn.styleTagTransform=x(),rn.setAttributes=p(),rn.insert=g().bind(null,"head"),rn.domAPI=b(),rn.insertStyleElement=v(),u()(nn.A,rn),nn.A&&nn.A.locals&&nn.A.locals;var on=document.getElementById("root");o.createRoot(on).render((0,i.jsx)(tn,{}))}},r={};function t(e){var o=r[e];if(void 0!==o)return o.exports;var a=r[e]={id:e,exports:{}};return n[e](a,a.exports,t),a.exports}t.m=n,e=[],t.O=(n,r,o,a)=>{if(!r){var i=1/0;for(u=0;u<e.length;u++){for(var[r,o,a]=e[u],l=!0,c=0;c<r.length;c++)(!1&a||i>=a)&&Object.keys(t.O).every(e=>t.O[e](r[c]))?r.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(u--,1);var s=o();void 0!==s&&(n=s)}}return n}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[r,o,a]},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{t.b=document.baseURI||self.location.href;var e={792:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var o,a,[i,l,c]=r,s=0;if(i.some(n=>0!==e[n])){for(o in l)t.o(l,o)&&(t.m[o]=l[o]);if(c)var u=c(t)}for(n&&n(r);s<i.length;s++)a=i[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(u)},r=self.webpackChunkgmcamstudio=self.webpackChunkgmcamstudio||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})(),t.nc=void 0;var o=t.O(void 0,[713],()=>t(971));o=t.O(o)})();